<!DOCTYPE html>
<html lang="en">
<head>
  <title>Blog Shreyas Kulkarni </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <style>
    /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
    .row.content {height: 550px}
    
    /* Set gray background color and 100% height */
    .sidenav {
      background-color: #f1f1f1;
      height:auto;
      position: relative;
    }
        
    /* On small screens, set height to 'auto' for the grid */
    @media screen and (max-width: 767px) {
      .row.content {height: auto;} 
    }

                    /*!
                * Start Bootstrap - Blog Home (https://startbootstrap.com/template/blog-home)
                * Copyright 2013-2020 Start Bootstrap
                * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-blog-home/blob/master/LICENSE)
                */
                body {
                padding-top: 56px;
                }
                ::-webkit-scrollbar {
                    width: 7px;
                }

                ::-webkit-scrollbar-track {
                    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
                    border-radius: 10px;
                }

                ::-webkit-scrollbar-thumb {
                    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);
                    border-radius: 10px;
                }

  </style>
</head>


<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark  fixed-top" style="background-color: #173f5f;">
    <div class="container">
      <a href="index.html" class="pull-left"><img src="solarsurveiltransparent.png" alt="" height="40px" style="margin-right: 12px; margin-top: 2px;"></a>
      <a class="navbar-brand" href="index.html">SOLAR SURVEIL</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="resources.html"> Back to Resources
              <span class="sr-only">(current)</span>
            </a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" href="#">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Services</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Contact</a>
          </li> -->
        </ul>
      </div>
    </div>
  </nav>

  <!-- Page Content -->
  <div class="container">

    <div class="row">

      <!-- Post Content Column -->
      <div class="col-lg-8">

        <!-- Title -->
        <h1 class="mt-4">InfluxDB, Node-RED, REST API and Cloud Computing</h1>

        <!-- Author -->
        <p class="lead">
          by
          <a href="https://www.linkedin.com/in/sdk694/">Shreyas Kulkarni</a>
        </p>

        <hr>

        <!-- Date/Time -->
        <p>Posted on April 27, 2021</p>

        <hr>

        <!-- Preview Image -->
        <img class="img-fluid rounded" src="nodeinfluxcard.png" alt="">

        <hr>

        <!-- Post Content -->
        <p class="lead">Hello my fellow energy enthusiasts!! It gives me immense pleasure to share my knowledge with you. For any website to run efficiently and for a longer period of time it requires a very strong backend along with the front end.  Our website uses InfluxDB , REST API and Node-Red as back end. </p>
        <hr>
        <h2>InfluxDB</h2>

          <p> 
            Let’s start with Influx DB. Data from the sensors is 
            captured and stored into influx db. InfluxDB is an open source time
           series database and is widely used in the IOT applications.</p>

          <p>
            We store energy parameters like Voltage, Current, Power Consumed,Energy Consumed and  Power Generated.
            We also store node readings like SNR and RSSI. </p>

          <p>
            All the energy parameters and the node parameters are stored into a database called homemon1. Inside this 
            database all the readings are stored into a measurement or table. 
          </p> 
          
          <p>
            The Data definition language and the data manipulation language used is called InfluxQL. 
            So let’s see some basic InfluxQL commands that we have used in the project. 
          </p>

          <ul>
            <li>Creating a database</li>
            <br>
            <div class="card">
              <div class="card-body bg-light">
                <p>Create database databasename;</p>
              </div>
            </div>

            <br>

            <li>SELECT command</li>
            <br>
            <div class="card">
              <div class="card-body bg-light">
                <p>Select * from measurementname;</p>
              </div>
            </div>

            <br>

            <li>DISTINCT COMMAND </li>
            <br>
            <div class="card">
              <div class="card-body bg-light">
                <p>SELECT DISTINCT(Fieldname) FROM meaurementname;</p>
              </div>
            </div>
          </ul>
          <br>
          <h5>Installation Guide : InfluxDB OSS</h5>
          <a href="https://jithinsisaac.github.io/posts/aws_influxdb/">InfluxDB OSS installation locally or on Cloud</a>
          <br>
         <hr> 
         <br>
        <h2>Node-RED</h2>  


        <p>
            Node-RED is a programming tool for wiring together hardware devices, APIs and online service.
           Node-RED has various predefined nodes with various functionalities.
        </p>

        <p>
          Once the data is transmitted by MQTT or LoRaWAN protocol,
          It reaches the broker where Node-RED subscribes to that broker.
        </p>

        <p>
          It uses MQTTin node to catch the data,
           function node to extract information from it and JSON node to convert it into JSON format. 
          Node-Red also has nodes that are used to inject data and query data from Influxdb.
        </p>

        <p>
          One can install these nodes by clicking on the three lines button on the
           top right hand side of Node-RED application and then clicking on the manage pallet option.
           On clicking the manage pallet option go to the install section and search for node-red-contrib-influxdb module.
        </p>


        <p>
          Node that is used to inject data into the InfluxDB is called influxdbout 
          and the node used to query the InfluxDB is called InfluxDBin.
        </p>
        
        <p>
          Given below is the Node-RED flow for for the above mentioned nodes.
        </p>

        <img class="img-fluid rounded" src="Nodered.PNG" alt="">
        <br>
        <br>
        <h5>Installation Guide : Node-RED</h5>
        <a href="https://jithinsisaac.github.io/posts/aws_nodered/">Node-RED installation locally or on Cloud</a>
        <br>
        <hr>
        <br>
        <h2>REST API </h2>

        <p>
          To fetch this data from InfluxDB  into our website we use rest api which is constructed using Node-RED. 
          This requires http network nodes. Here we use http 
          in node to create an http endpoint for creating web services and http response 
          that send response back to requests received from an http input node. 
        </p>

        <p>
          Given below is the Node-RED flow for creating a REST API.
        </p>


        <img class="img-fluid rounded" src="restapi.PNG" alt="">
        
        <br>
        <hr>
        <br>

        <h2>Cloud Computing</h2>
        <p>
          The server used by us is a 2vCPU 4GB Digital Ocean Droplet for our Web application.
        </p>
        <p>
          We are using the JAM stack for our Web application dashboard and the LAMP stack for the user authentication, Solar Nexus calculator and Get component application.
        </p>

        <p>
         <p>Node-RED application <a href="https://nodered.solarsurveildbit.in/"> https://nodered.solarsurveildbit.in/</a>, Grafana application <a href="https://grafana.solarsurveildbit.in/">https://grafana.solarsurveildbit.in/</a> are hosted on the same server.</p> 

        </p>

        <p>
          We are using Nginx Proxy Manager to enable reverse proxy to the above applications.
        </p>

        <p>
          We are using another 2vCPU 4GB GCP instance to host our ChirpStack LoRaWAN network server and MQTT Broker.
        </p>

        <br>


      </div>

      <!-- Sidebar Widgets Column -->
      <div class="col-md-4">

        <!-- Search Widget
        <div class="card my-4">
          <h5 class="card-header">Search</h5>
          <div class="card-body">
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Search for...">
              <span class="input-group-append">
                <button class="btn btn-secondary" type="button">Go!</button>
              </span>
            </div>
          </div>
        </div> -->

        <!-- Categories Widget -->
        <div class="card my-4">
          <h5 class="card-header">Blogs</h5>
          <div class="card-body">
            <div class="row">
              <div class="col-lg-6">
                <ul class="list-unstyled mb-0">
                  <li>
                    <a href="#">ATM90E26</a>
                  </li>
                  <li>
                    <a href="#">Node-RED</a>
                  </li>
                  <li>
                    <a href="#">Bootstrap 4</a>
                  </li>
                </ul>
              </div>
              <div class="col-lg-6">
                <ul class="list-unstyled mb-0">
                  <li>
                    <a href="#">JavaScript</a>
                  </li>
                  <li>
                    <a href="#">CSS</a>
                  </li>
                  <li>
                    <a href="#">Tutorials</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- Side Widget -->
        <!-- <div class="card my-4">
          <h5 class="card-header">Side Widget</h5>
          <div class="card-body">
            You can put anything you want inside of these side widgets. They are easy to use, and feature the new Bootstrap 4 card containers!
          </div>
        </div> -->

      </div>

    </div>
    <!-- /.row -->

  </div>
  <!-- /.container -->

  <!-- Footer -->
  <footer class="py-3 bg-dark">
    <div class="container">
      <p class="m-0 text-center text-white">Copyright &copy; Solar Surveil 2021</p>
    </div>
    <!-- /.container -->
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

</body>

</html>